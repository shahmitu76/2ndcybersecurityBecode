{% extends 'base.html' %}
{% import "macros/custom_macros.html" as custom_macros %}

{% block content %}
    <h1>{% block title %} CONTACT FORM {% endblock %}</h1>

    <form method="POST" action="/">
        {{ form.csrf_token }}
        <p>
            {{ form.firstname.label }}
            {{ form.firstname(size=20) }}
        </p>

        {% if form.firstname.errors %}
            <ul class="errors">
                {% for error in form.firstname.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}

        <p>
            {{ form.lastname.label }}
            {{ form.lastname(size=20) }}
        </p>

        {% if form.lastname.errors %}
            <ul class="errors">
                {% for error in form.lastname.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}

        <p>
            {{ form.email.label }}
            {{ form.email(size=20) }}
        </p>

        {% if form.email.errors %}
            <ul class="errors">
                {% for error in form.email.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}

        <p>
            {{ form.country.label }}
            {{ form.country() }}
        </p>

        {% if form.country.errors %}
            <ul class="errors">
                {% for error in form.country.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}


        <p>
            {{ form.message.label }}
        </p>
        {{ form.message(rows=10, cols=50) }}

        {% if form.message.errors %}
            <ul class="errors">
                {% for error in form.message.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}

        <p>
            {{ form.gender.label }}
            {{ form.gender() }}
        </p>

        {% if form.gender.errors %}
            <ul class="errors">
                {% for error in form.gender.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}

        <p>
            {{ form.subject.label }}
        </p>
        <ul>
            {% for subfield in form.subject %}
                <li>{{ custom_macros.render_checkbox(subfield) }}</li>
            {% endfor %}
        </ul>
        {% if form.subject.errors %}
            <ul class="errors">
                {% for error in form.subject.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}
        <!-- Honeypot field -->
        <div class="hidden-field">
            {{ form.email_confirm.label }}
            {{ form.email_confirm(size=20) }}
        </div>

        <p>
            <input type="submit" value="Send">
        </p>
    </form>

{% endblock %}